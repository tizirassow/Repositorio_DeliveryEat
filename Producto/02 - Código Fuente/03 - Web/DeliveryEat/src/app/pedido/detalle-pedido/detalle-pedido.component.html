<mat-card>
  <mat-card-title>
    Detalle de pedido
  </mat-card-title>

  <mat-card-content>
    <mat-horizontal-stepper>


      <mat-step>
        <mat-grid-list cols="6">
          <mat-grid-tile [colspan]="4" [rowspan]="2">
            <mat-card class="example-card">
              <mat-card-header>
                <div mat-card-avatar class="example-header-image"></div>
                <mat-card-title>Caseratto</mat-card-title>
                <mat-card-subtitle>Helados</mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                <table mat-table [dataSource]="transactions" class="mat-elevation-z8">
                  <!-- Item Column -->
                  <ng-container matColumnDef="item">
                    <th mat-header-cell *matHeaderCellDef> Producto</th>
                    <td mat-cell *matCellDef="let transaction"> {{transaction.item}}</td>
                    <td mat-footer-cell *matFooterCellDef> Total</td>
                  </ng-container>

                  <!-- Cost Column -->
                  <ng-container matColumnDef="cost">
                    <th mat-header-cell *matHeaderCellDef> Precio</th>
                    <td mat-cell *matCellDef="let transaction"> {{transaction.cost | currency}}</td>
                    <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency}}</td>
                  </ng-container>

                  <ng-container matColumnDef="notas">
                    <th mat-header-cell *matHeaderCellDef> Notas</th>
                    <td mat-cell *matCellDef="let transaction"> {{transaction.notas | currency}}</td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
                </table>
              </mat-card-content>

            </mat-card>
          </mat-grid-tile>
          <mat-grid-tile [colspan]="2" [rowspan]="2">
            <form [formGroup]="regiForm" (ngSubmit)="onFormSubmit(regiForm.value)">
              <table>
                <tr>
                  <td>
                    <mat-form-field class="demo-full-width">
              <textarea formControlName="Direccion" matInput placeholder="Dirección de envío" matTextareaAutosize
                        matAutosizeMinRows="2" matAutosizeMaxRows="5">
              </textarea>
                    </mat-form-field>
                    <mat-icon color="primary">place</mat-icon>

                    <mat-error>
                      <span color="warm" *ngIf="!regiForm.get('Direccion').valid && regiForm.get('Direccion').touched">Por favor, ingresá la dirección</span>
                    </mat-error>
                  </td>
                <tr>
                  <td colspan="2">
                    <mat-form-field class="demo-full-width">
                      <input formControlName="FechaEntrega" matInput [matDatepicker]="picker"
                             placeholder="Fecha de entrega">
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker touchUi="true" #picker></mat-datepicker>
                    </mat-form-field>
                    <mat-error>
                      <span *ngIf="!regiForm.get('FechaEntrega').valid && regiForm.get('FechaEntrega').touched">Please select any Date !!!</span>
                    </mat-error>
                  </td>
                  <!--</tr>-->
                <tr>
                  <td>
                    <mat-form-field>
                      <mat-select formControlName="FormaPago" placeholder="Forma de pago">
                        <mat-option>-- Seleccionar --</mat-option>
                        <mat-option value="usaEfectivo">Efectivo</mat-option>
                        <mat-option value="usaTarjeta">Tarjeta de crédito</mat-option>
                      </mat-select>
                      <mat-hint>Tarjetas únicamente VISA</mat-hint>
                      <mat-error>
                <span
                  *ngIf="!regiForm.get('FormaPago').valid && regiForm.get('FormaPago').touched">Por favor, seleccione forma de pago.</span>
                      </mat-error>
                    </mat-form-field>
                  </td>
                </tr>

                <tr *ngIf="regiForm.get('FormaPago').value=='usaEfectivo'">
                  <mat-form-field class="demo-full-width">
              <textarea formControlName="PagoCon" matInput placeholder="¿Con cuánto vas a pagar?" matTextareaAutosize
                        matAutosizeMinRows="2" matAutosizeMaxRows="5">
              </textarea>
                  </mat-form-field>
                  <mat-icon color="primary">attach_money</mat-icon>

                  <mat-error>
                    <span *ngIf="!regiForm.get('PagoCon').valid && regiForm.get('PagoCon').touched">Por favor, ingresá la cantidad con la que vas a abonar</span>
                  </mat-error>
                  <!--</td>-->
                </tr>
                <tr *ngIf="regiForm.get('FormaPago').value=='usaTarjeta'">
                  <!--<td colspan="2">-->
                  <mat-form-field class="demo-full-width">

                    <input matInput formControlName="NumeroTarjeta" placeholder="Número de tarjeta"
                           autocomplete="cc-number"
                           id="cc-number" ccNum>

                  </mat-form-field>
                  <mat-icon color="primary">credit_card</mat-icon>

                  <mat-error>
                    <span *ngIf="!regiForm.get('NumeroTarjeta').valid && regiForm.get('NumeroTarjeta').touched">Por favor, ingresá el número de tu tarjeta VISA</span>
                  </mat-error>
                  <!--</td>-->
                </tr>
                <tr *ngIf="regiForm.get('FormaPago').value=='usaTarjeta'">
                  <!--<td colspan="2">-->
                  <mat-form-field class="demo-full-width">

                    <input matInput formControlName="NombreTarjeta" placeholder="Nombre del titular"
                           autocomplete="cc-number">

                  </mat-form-field>
                  <mat-icon color="primary">perm_identity</mat-icon>

                  <mat-error>
                    <span *ngIf="!regiForm.get('NombreTarjeta').valid && regiForm.get('NombreTarjeta').touched">Por favor, ingresá el nombre como figura en la tarjeta</span>
                  </mat-error>
                  <!--</td>-->
                </tr>
                <tr *ngIf="regiForm.get('FormaPago').value=='usaTarjeta'">
                  <!--<td colspan="2">-->
                  <mat-form-field class="demo-full-width">

                    <input matInput type="tel" formControlName="FechaExp" placeholder="MM/YY" autocomplete="cc-exp"
                           id="cc-exp"
                           ccExp>

                  </mat-form-field>
                  <mat-icon color="primary">insert_invitation</mat-icon>

                  <mat-error>
                    <span *ngIf="!regiForm.get('FechaExp').valid && regiForm.get('FechaExp').touched">Por favor, ingresá la fecha de expiración de tu tarjeta</span>
                  </mat-error>
                  <!--</td>-->
                </tr>
                <tr *ngIf="regiForm.get('FormaPago').value=='usaTarjeta'">
                  <!--<td colspan="2">-->
                  <mat-form-field class="demo-full-width">

                    <input matInput formControlName="CodigoSeg" placeholder="Clave de seguridad" autocomplete="cc-cvc"
                           id="cc-csc" ccCvc>

                  </mat-form-field>
                  <mat-icon color="primary">lock_open</mat-icon>

                  <mat-error>
                    <span *ngIf="!regiForm.get('CodigoSeg').valid && regiForm.get('CodigoSeg').touched">Por favor, ingresá el código de seguridad de tu tarjeta</span>
                  </mat-error>
                  <!--</td>-->
                </tr>
                <tr>
                  <td colspan="2">
                    <mat-slide-toggle formControlName="IsAccepted" (change)="OnChanges($event)">Aceptar términos y
                      condiciones
                    </mat-slide-toggle>
                  </td>
                </tr>
                <tr></tr>
                <tr>
                  <td colspan="2" class="content-center">
                    <button mat-raised-button color="accent" [disabled]="!regiForm.valid || IsAccepted==0"
                            matStepperNext>
                      Confirmar Pedido
                    </button>
                  </td>
                </tr>
                <tr>
                </tr>
              </table>
            </form>
          </mat-grid-tile>

        </mat-grid-list>
      </mat-step>


      <mat-step>

        <mat-icon class="material-confirmation-icon">check_circle</mat-icon>


      </mat-step>
    </mat-horizontal-stepper>
  </mat-card-content>
</mat-card>
